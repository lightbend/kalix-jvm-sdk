<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>Kalix Scala SDK 1.1.6-2-54aaeccc-dev-SNAPSHOT - kalix.protocol.component</title><meta content="Kalix Scala SDK 1.1.6 - 2 - 54aaeccc - dev - SNAPSHOT - kalix.protocol.component" name="description"/><meta content="Kalix Scala SDK 1.1.6 2 54aaeccc dev SNAPSHOT kalix.protocol.component" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../lib/index.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript" src="../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../';</script></head><body><div id="search"><span id="doc-title">Kalix Scala SDK<span id="doc-version">1.1.6-2-54aaeccc-dev-SNAPSHOT</span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.kalix" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="kalix" class="anchorToMember"></a><a id="kalix:kalix" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">kalix</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="kalix.protocol" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="protocol" class="anchorToMember"></a><a id="protocol:protocol" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">protocol</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="kalix" id="kalix" class="extype">kalix</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.action" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="action" class="anchorToMember"></a><a id="action:action" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/action/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../action/index.html" title=""><span class="name">action</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 current" name="kalix.protocol.component" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="component" class="anchorToMember"></a><a id="component:component" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">component</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="current-entities indented3"><a href="ClientAction$.html" title="" class="object"></a> <a href="ClientAction.html" title="An action for the client (see ActionResponse in action.proto)" class="class"></a><a href="ClientAction.html" title="An action for the client (see ActionResponse in action.proto)">ClientAction</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="ComponentProto$.html" title="" class="object"></a><a href="ComponentProto$.html" title="">ComponentProto</a></li><li class="current-entities indented3"><a href="Failure$.html" title="" class="object"></a> <a href="Failure.html" title="A failure reply." class="class"></a><a href="Failure.html" title="A failure reply.">Failure</a></li><li class="current-entities indented3"><a href="Forward$.html" title="" class="object"></a> <a href="Forward.html" title="Forwards handling of this request to another component." class="class"></a><a href="Forward.html" title="Forwards handling of this request to another component.">Forward</a></li><li class="current-entities indented3"><a href="Metadata$.html" title="" class="object"></a> <a href="Metadata.html" title="Transport-specific metadata associated with a message." class="class"></a><a href="Metadata.html" title="Transport-specific metadata associated with a message.">Metadata</a></li><li class="current-entities indented3"><a href="MetadataEntry$.html" title="" class="object"></a> <a href="MetadataEntry.html" title="A metadata entry." class="class"></a><a href="MetadataEntry.html" title="A metadata entry.">MetadataEntry</a></li><li class="current-entities indented3"><a href="Reply$.html" title="" class="object"></a> <a href="Reply.html" title="A reply to the sender." class="class"></a><a href="Reply.html" title="A reply to the sender.">Reply</a></li><li class="current-entities indented3"><a href="SideEffect$.html" title="" class="object"></a> <a href="SideEffect.html" title="A side effect to be done after this command is handled." class="class"></a><a href="SideEffect.html" title="A side effect to be done after this command is handled.">SideEffect</a></li><li class="current-entities indented3"><a href="StreamCancelled$.html" title="" class="object"></a> <a href="StreamCancelled.html" title="" class="class"></a><a href="StreamCancelled.html" title="">StreamCancelled</a></li><li class="indented3 " name="kalix.protocol.discovery" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="discovery" class="anchorToMember"></a><a id="discovery:discovery" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/discovery/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../discovery/index.html" title=""><span class="name">discovery</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.entity" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="entity" class="anchorToMember"></a><a id="entity:entity" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/entity/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../entity/index.html" title=""><span class="name">entity</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.event_sourced_entity" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="event_sourced_entity" class="anchorToMember"></a><a id="event_sourced_entity:event_sourced_entity" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/event_sourced_entity/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../event_sourced_entity/index.html" title=""><span class="name">event_sourced_entity</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.replicated_entity" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="replicated_entity" class="anchorToMember"></a><a id="replicated_entity:replicated_entity" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/replicated_entity/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../replicated_entity/index.html" title=""><span class="name">replicated_entity</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.schema" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="schema" class="anchorToMember"></a><a id="schema:schema" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/schema/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../schema/index.html" title=""><span class="name">schema</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.value_entity" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="value_entity" class="anchorToMember"></a><a id="value_entity:value_entity" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/value_entity/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../value_entity/index.html" title=""><span class="name">value_entity</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li><li class="indented3 " name="kalix.protocol.view" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="view" class="anchorToMember"></a><a id="view:view" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/view/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../view/index.html" title=""><span class="name">view</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></dd></dl></div></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../index.html" name="kalix" id="kalix" class="extype">kalix</a>.<a href="../index.html" name="kalix.protocol" id="kalix.protocol" class="extype">protocol</a></p><h1>component<span class="permalink"><a href="../../../kalix/protocol/component/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">component</span></span></h4><div id="comment" class="fullcommenttop"></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="kalix.protocol.component.ClientAction" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ClientActionextendsGeneratedMessagewithUpdatable[kalix.protocol.component.ClientAction]withProductwithSerializable" class="anchorToMember"></a><a id="ClientAction:ClientAction" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/ClientAction.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="ClientAction.html" title="An action for the client (see ActionResponse in action.proto)"><span class="name">ClientAction</span></a><span class="params">(<span name="action">action: <a href="ClientAction$$Action.html" name="kalix.protocol.component.ClientAction.Action" id="kalix.protocol.component.ClientAction.Action" class="extype">ClientAction.Action</a> = <span class="defval"><span class="name"><a href="../../index.html">kalix.protocol.component.ClientAction.Action.Empty</a></span></span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="ClientAction.html" name="kalix.protocol.component.ClientAction" id="kalix.protocol.component.ClientAction" class="extype">ClientAction</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">An action for the client
(see ActionResponse in action.proto)
</p><div class="fullcomment"><div class="comment cmt"><p>An action for the client
(see ActionResponse in action.proto)
</p></div><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.Failure" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="FailureextendsGeneratedMessagewithUpdatable[kalix.protocol.component.Failure]withProductwithSerializable" class="anchorToMember"></a><a id="Failure:Failure" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Failure.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="Failure.html" title="A failure reply."><span class="name">Failure</span></a><span class="params">(<span name="commandId">commandId: <span name="scala.Long" class="extype">Long</span> = <span class="symbol">0L</span></span>, <span name="description">description: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="grpcStatusCode">grpcStatusCode: <span name="scala.Int" class="extype">Int</span> = <span class="symbol">0</span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="Failure.html" name="kalix.protocol.component.Failure" id="kalix.protocol.component.Failure" class="extype">Failure</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">A failure reply.</p><div class="fullcomment"><div class="comment cmt"><p>A failure reply. If this is returned, it will be translated into a gRPC
unknown error with the corresponding description if supplied.
</p></div><dl class="paramcmts block"><dt class="param">commandId</dt><dd class="cmt"><p>
  The id of the command being replied to. Must match the input command.</p></dd><dt class="param">description</dt><dd class="cmt"><p>
  A description of the error.</p></dd><dt class="param">grpcStatusCode</dt><dd class="cmt"><p>
  The gRPC status code.
  If this failure is being sent as an action for a gRPC response, and this
  is non zero, then this is the code that will be used.
  Note that a status code of zero in gRPC means OK. Since this is a failure,
  zero passed here is not interpreted to mean OK, but rather indicates that
  no gRPC status code is explicitly specified. A status code of 2, meaning
  unknown error, will be sent by default.
  When HTTP transcoding is being used, the gRPC status code will be
  translated to an equivalent HTTP status code. HTTP status codes MUST NOT
  be passed in this field.
  See https://grpc.github.io/grpc/core/md_doc_statuscodes.html for a list
  of gRPC status codes and their meanings.</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.Forward" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ForwardextendsGeneratedMessagewithUpdatable[kalix.protocol.component.Forward]withProductwithSerializable" class="anchorToMember"></a><a id="Forward:Forward" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Forward.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="Forward.html" title="Forwards handling of this request to another component."><span class="name">Forward</span></a><span class="params">(<span name="serviceName">serviceName: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="commandName">commandName: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="payload">payload: <span name="scala.Option" class="extype">Option</span>[<span name="com.google.protobuf.any.Any" class="extype">Any</span>] = <span class="symbol">_root_.scala.None</span></span>, <span name="metadata">metadata: <span name="scala.Option" class="extype">Option</span>[<a href="Metadata.html" name="kalix.protocol.component.Metadata" id="kalix.protocol.component.Metadata" class="extype">Metadata</a>] = <span class="symbol">_root_.scala.None</span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="Forward.html" name="kalix.protocol.component.Forward" id="kalix.protocol.component.Forward" class="extype">Forward</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">Forwards handling of this request to another component.</p><div class="fullcomment"><div class="comment cmt"><p>Forwards handling of this request to another component.
</p></div><dl class="paramcmts block"><dt class="param">serviceName</dt><dd class="cmt"><p>
  The name of the service to forward to.</p></dd><dt class="param">commandName</dt><dd class="cmt"><p>
  The name of the command.</p></dd><dt class="param">payload</dt><dd class="cmt"><p>
  The payload.</p></dd><dt class="param">metadata</dt><dd class="cmt"><p>
  The metadata to include with the forward</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.Metadata" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="MetadataextendsGeneratedMessagewithUpdatable[kalix.protocol.component.Metadata]withProductwithSerializable" class="anchorToMember"></a><a id="Metadata:Metadata" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Metadata.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="Metadata.html" title="Transport-specific metadata associated with a message."><span class="name">Metadata</span></a><span class="params">(<span name="entries">entries: <span name="scala.Seq" class="extype">Seq</span>[<a href="MetadataEntry.html" name="kalix.protocol.component.MetadataEntry" id="kalix.protocol.component.MetadataEntry" class="extype">MetadataEntry</a>] = <span class="symbol">_root_.scala.Seq.empty</span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="Metadata.html" name="kalix.protocol.component.Metadata" id="kalix.protocol.component.Metadata" class="extype">Metadata</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">Transport-specific metadata associated with a message.</p><div class="fullcomment"><div class="comment cmt"><p>Transport-specific metadata associated with a message.</p><p>The semantics of the metadata are not defined in this protocol, but rather,
depend on the transport on which a particular instance of the metadata maps
to. What keys or values are allowed or disallowed, whether duplicate values
for the same key are allowed and how they are handled, and whether key names
are case sensitive or not, are all undefined in the context of the
Kalix protocol.</p><p>If a metadata entry associated with a message can't be expressed in an
underlying transport, for example, due to invalid characters in a key or
value, the behavior of the proxy is undefined. This is because metadata is
transport specific, so if the user function chooses to use metadata, it is
choosing to be specific to a particular transport, which is beyond the scope
of the Kalix protocol, and it's therefore the user function's
responsibility to adhere to the semantics of that transport. The proxy MAY
decide to drop metadata entries if it knows they are invalid or unsupported.
If a metadata entry is dropped, the proxy MAY inform the user function that
the entry was dropped by sending an error message to the
Discovery.ReportError gRPC call.</p><p>The metadata MAY also contain CloudEvent metadata. If a message comes from an
Kalix event source, the Kalix proxy MUST attach
CloudEvent metadata to it if the event doesn't already have CloudEvent
metadata attached to it. This metadata SHALL be encoded according to the
binary mode of the CloudEvent HTTP protocol binding, which can be found here:</p><p>https://github.com/cloudevents/spec/blob/master/http-protocol-binding.md</p><p>The Kalix proxy MAY synthesize appropriate values for
Kalix metadata if no equivalent metadata exists in the event source, for
example, if there is no type, the Kalix proxy MAY use the name of
the gRPC message as the CloudEvent type, and if there is no source, the
Kalix proxy MAY use the name of the topic as the source.</p><p>If an incoming message does have CloudEvent metadata attached to it, the
Kalix proxy MUST transcode that CloudEvent metadata to the HTTP protocol
binding as described above.</p><p>Messages sent from the user function to an event destination MAY include
CloudEvent metadata. If they include any CloudEvent metadata, they MUST
include all required CloudEvent attributes, including id, source, specversion
and type. The behavior of the proxy is undefined if some of these attributes,
but not others, are included - the proxy MAY ignore them all, or MAY generate
values itself, but SHOULD NOT fail sending the message. If the destination
for the message is an event destination, the Kalix proxy MUST
transcode the supplied Kalix metadata to a binding appropriate for
the underlying transport for that event destination, it MUST NOT pass the
CloudEvent metadata as is unless the transport uses the same binding rules.
</p></div><dl class="paramcmts block"><dt class="param">entries</dt><dd class="cmt"><p>
  The metadata entries.</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.MetadataEntry" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="MetadataEntryextendsGeneratedMessagewithUpdatable[kalix.protocol.component.MetadataEntry]withProductwithSerializable" class="anchorToMember"></a><a id="MetadataEntry:MetadataEntry" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/MetadataEntry.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="MetadataEntry.html" title="A metadata entry."><span class="name">MetadataEntry</span></a><span class="params">(<span name="key">key: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="value">value: <a href="MetadataEntry$$Value.html" name="kalix.protocol.component.MetadataEntry.Value" id="kalix.protocol.component.MetadataEntry.Value" class="extype">Value</a> = <span class="defval"><span class="name"><a href="../../index.html">kalix.protocol.component.MetadataEntry.Value.Empty</a></span></span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="MetadataEntry.html" name="kalix.protocol.component.MetadataEntry" id="kalix.protocol.component.MetadataEntry" class="extype">MetadataEntry</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">A metadata entry.</p><div class="fullcomment"><div class="comment cmt"><p>A metadata entry.
</p></div><dl class="paramcmts block"><dt class="param">key</dt><dd class="cmt"><p>
  Key for the entry. Valid keys are determined by the underlying transport.</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.Reply" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ReplyextendsGeneratedMessagewithUpdatable[kalix.protocol.component.Reply]withProductwithSerializable" class="anchorToMember"></a><a id="Reply:Reply" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Reply.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="Reply.html" title="A reply to the sender."><span class="name">Reply</span></a><span class="params">(<span name="payload">payload: <span name="scala.Option" class="extype">Option</span>[<span name="com.google.protobuf.any.Any" class="extype">Any</span>] = <span class="symbol">_root_.scala.None</span></span>, <span name="metadata">metadata: <span name="scala.Option" class="extype">Option</span>[<a href="Metadata.html" name="kalix.protocol.component.Metadata" id="kalix.protocol.component.Metadata" class="extype">Metadata</a>] = <span class="symbol">_root_.scala.None</span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="Reply.html" name="kalix.protocol.component.Reply" id="kalix.protocol.component.Reply" class="extype">Reply</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">A reply to the sender.</p><div class="fullcomment"><div class="comment cmt"><p>A reply to the sender.
</p></div><dl class="paramcmts block"><dt class="param">payload</dt><dd class="cmt"><p>
  The reply payload</p></dd><dt class="param">metadata</dt><dd class="cmt"><p>
  Metadata for the reply
  Not all transports support per message metadata, for example, gRPC doesn't.
  The Kalix proxy MAY ignore the metadata in this case, or it MAY
  lift the metadata into another place, for example, in gRPC, a unary call
  MAY have its reply metadata placed in the headers of the HTTP response, or
  the first reply to a streamed call MAY have its metadata placed in the
  headers of the HTTP response.
  If the metadata is ignored, the Kalix proxy MAY notify the user
  function by sending an error message to the Discovery.ReportError gRPC
  call.</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.SideEffect" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="SideEffectextendsGeneratedMessagewithUpdatable[kalix.protocol.component.SideEffect]withProductwithSerializable" class="anchorToMember"></a><a id="SideEffect:SideEffect" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/SideEffect.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="SideEffect.html" title="A side effect to be done after this command is handled."><span class="name">SideEffect</span></a><span class="params">(<span name="serviceName">serviceName: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="commandName">commandName: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="payload">payload: <span name="scala.Option" class="extype">Option</span>[<span name="com.google.protobuf.any.Any" class="extype">Any</span>] = <span class="symbol">_root_.scala.None</span></span>, <span name="synchronous">synchronous: <span name="scala.Boolean" class="extype">Boolean</span> = <span class="symbol">false</span></span>, <span name="metadata">metadata: <span name="scala.Option" class="extype">Option</span>[<a href="Metadata.html" name="kalix.protocol.component.Metadata" id="kalix.protocol.component.Metadata" class="extype">Metadata</a>] = <span class="symbol">_root_.scala.None</span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="SideEffect.html" name="kalix.protocol.component.SideEffect" id="kalix.protocol.component.SideEffect" class="extype">SideEffect</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">A side effect to be done after this command is handled.</p><div class="fullcomment"><div class="comment cmt"><p>A side effect to be done after this command is handled.
</p></div><dl class="paramcmts block"><dt class="param">serviceName</dt><dd class="cmt"><p>
  The name of the service to perform the side effect on.</p></dd><dt class="param">commandName</dt><dd class="cmt"><p>
  The name of the command.</p></dd><dt class="param">payload</dt><dd class="cmt"><p>
  The payload of the command.</p></dd><dt class="param">synchronous</dt><dd class="cmt"><p>
  Whether this side effect should be performed synchronously, ie, before the
  reply is eventually sent, or not.</p></dd><dt class="param">metadata</dt><dd class="cmt"><p>
  The metadata to include with the side effect</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="kalix.protocol.component.StreamCancelled" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="StreamCancelledextendsGeneratedMessagewithUpdatable[kalix.protocol.component.StreamCancelled]withProductwithSerializable" class="anchorToMember"></a><a id="StreamCancelled:StreamCancelled" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/StreamCancelled.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">case class</span></span> <span class="symbol"><a href="StreamCancelled.html" title=""><span class="name">StreamCancelled</span></a><span class="params">(<span name="componentId">componentId: <span name="scala.Predef.String" class="extype">String</span> = <span class="symbol">""</span></span>, <span name="id">id: <span name="scala.Long" class="extype">Long</span> = <span class="symbol">0L</span></span>, <span name="unknownFields">unknownFields: <span name="scalapb.UnknownFieldSet" class="extype">UnknownFieldSet</span> = <span class="defval">_root_.scalapb.UnknownFieldSet.empty</span></span>)</span><span class="result"> extends <span name="scalapb.GeneratedMessage" class="extype">GeneratedMessage</span> with <span name="scalapb.lenses.Updatable" class="extype">Updatable</span>[<a href="StreamCancelled.html" name="kalix.protocol.component.StreamCancelled" id="kalix.protocol.component.StreamCancelled" class="extype">StreamCancelled</a>] with <span name="scala.Product" class="extype">Product</span> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt"></p><div class="fullcomment"><div class="comment cmt"></div><dl class="paramcmts block"><dt class="param">componentId</dt><dd class="cmt"><p>
  The ID of the component</p></dd><dt class="param">id</dt><dd class="cmt"><p>
  The command id</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SerialVersionUID</span><span class="args">()</span> </dd></dl></div></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="kalix.protocol.component.ClientAction" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ClientAction" class="anchorToMember"></a><a id="ClientAction:ClientAction" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/ClientAction$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ClientAction$.html" title=""><span class="name">ClientAction</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="ClientAction.html" name="kalix.protocol.component.ClientAction" id="kalix.protocol.component.ClientAction" class="extype">ClientAction</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.ComponentProto" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ComponentProto" class="anchorToMember"></a><a id="ComponentProto:ComponentProto" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/ComponentProto$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ComponentProto$.html" title=""><span class="name">ComponentProto</span></a><span class="result"> extends <span name="scalapb.GeneratedFileObject" class="extype">GeneratedFileObject</span></span></span></li><li class="indented0 " name="kalix.protocol.component.Failure" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="Failure" class="anchorToMember"></a><a id="Failure:Failure" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Failure$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="Failure$.html" title=""><span class="name">Failure</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="Failure.html" name="kalix.protocol.component.Failure" id="kalix.protocol.component.Failure" class="extype">Failure</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.Forward" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="Forward" class="anchorToMember"></a><a id="Forward:Forward" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Forward$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="Forward$.html" title=""><span class="name">Forward</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="Forward.html" name="kalix.protocol.component.Forward" id="kalix.protocol.component.Forward" class="extype">Forward</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.Metadata" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="Metadata" class="anchorToMember"></a><a id="Metadata:Metadata" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Metadata$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="Metadata$.html" title=""><span class="name">Metadata</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="Metadata.html" name="kalix.protocol.component.Metadata" id="kalix.protocol.component.Metadata" class="extype">Metadata</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.MetadataEntry" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="MetadataEntry" class="anchorToMember"></a><a id="MetadataEntry:MetadataEntry" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/MetadataEntry$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="MetadataEntry$.html" title=""><span class="name">MetadataEntry</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="MetadataEntry.html" name="kalix.protocol.component.MetadataEntry" id="kalix.protocol.component.MetadataEntry" class="extype">MetadataEntry</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.Reply" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="Reply" class="anchorToMember"></a><a id="Reply:Reply" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/Reply$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="Reply$.html" title=""><span class="name">Reply</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="Reply.html" name="kalix.protocol.component.Reply" id="kalix.protocol.component.Reply" class="extype">Reply</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.SideEffect" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SideEffect" class="anchorToMember"></a><a id="SideEffect:SideEffect" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/SideEffect$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="SideEffect$.html" title=""><span class="name">SideEffect</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="SideEffect.html" name="kalix.protocol.component.SideEffect" id="kalix.protocol.component.SideEffect" class="extype">SideEffect</a>]</span></span></li><li class="indented0 " name="kalix.protocol.component.StreamCancelled" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="StreamCancelled" class="anchorToMember"></a><a id="StreamCancelled:StreamCancelled" class="anchorToMember"></a> <span class="permalink"><a href="../../../kalix/protocol/component/StreamCancelled$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="StreamCancelled$.html" title=""><span class="name">StreamCancelled</span></a><span class="result"> extends <span name="scalapb.GeneratedMessageCompanion" class="extype">GeneratedMessageCompanion</span>[<a href="StreamCancelled.html" name="kalix.protocol.component.StreamCancelled" id="kalix.protocol.component.StreamCancelled" class="extype">StreamCancelled</a>]</span></span></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
